{"ast":null,"code":"var _s = $RefreshSig$();\nimport React, { useState, useEffect, useReducer } from 'react';\nimport axios from 'axios';\nimport dataFetchReducer from './dataFetchReducer';\nfunction useDataApi(initialUrl, initialData) {\n  _s();\n  const [url, setUrl] = useState(initialUrl);\n  const [state, dispatch] = useReducer(dataFetchReducer, {\n    isLoading: false,\n    isError: false,\n    data: initialData\n  });\n  useEffect(() => {\n    let didCancel = false;\n    const fetchData = async () => {\n      dispatch({\n        type: \"FETCH_INIT\"\n      });\n      try {\n        const result = await axios(url);\n        if (!didCancel) {\n          dispatch({\n            type: \"FETCH_SUCCESS\",\n            payload: result.data\n          });\n        }\n      } catch (error) {\n        if (!didCancel) {\n          dispatch({\n            type: \"FETCH_FAILURE\"\n          });\n        }\n      }\n    };\n    fetchData();\n    return () => {\n      didCancel = true;\n    };\n  }, [url]);\n  return [state, setUrl];\n}\n_s(useDataApi, \"Xn0sImmEux0JkylNrmImi243RjU=\");\nexport default useDataApi;","map":{"version":3,"names":["React","useState","useEffect","useReducer","axios","dataFetchReducer","useDataApi","initialUrl","initialData","_s","url","setUrl","state","dispatch","isLoading","isError","data","didCancel","fetchData","type","result","payload","error"],"sources":["C:/Users/jose/Documents/Coding/fetch-n-render-project/src/useDataApi.js"],"sourcesContent":["import React, { useState, useEffect, useReducer } from 'react';\r\nimport axios from 'axios';\r\nimport dataFetchReducer from './dataFetchReducer';\r\n\r\nfunction useDataApi(initialUrl, initialData) {\r\n  const [url, setUrl] = useState(initialUrl);\r\n\r\n  const [state, dispatch] = useReducer(dataFetchReducer, {\r\n    isLoading: false,\r\n    isError: false,\r\n    data: initialData,\r\n  });\r\n\r\n  useEffect(() => {\r\n    let didCancel = false;\r\n    const fetchData = async () => {\r\n      dispatch({ type: \"FETCH_INIT\" });\r\n      try {\r\n        const result = await axios(url);\r\n        if (!didCancel) {\r\n          dispatch({ type: \"FETCH_SUCCESS\", payload: result.data });\r\n        }\r\n      } catch (error) {\r\n        if (!didCancel) {\r\n          dispatch({ type: \"FETCH_FAILURE\" });\r\n        }\r\n      }\r\n    };\r\n    fetchData();\r\n    return () => {\r\n      didCancel = true;\r\n    };\r\n  }, [url]);\r\n\r\n  return [state, setUrl];\r\n}\r\n\r\nexport default useDataApi;\r\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,EAAEC,UAAU,QAAQ,OAAO;AAC9D,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAOC,gBAAgB,MAAM,oBAAoB;AAEjD,SAASC,UAAUA,CAACC,UAAU,EAAEC,WAAW,EAAE;EAAAC,EAAA;EAC3C,MAAM,CAACC,GAAG,EAAEC,MAAM,CAAC,GAAGV,QAAQ,CAACM,UAAU,CAAC;EAE1C,MAAM,CAACK,KAAK,EAAEC,QAAQ,CAAC,GAAGV,UAAU,CAACE,gBAAgB,EAAE;IACrDS,SAAS,EAAE,KAAK;IAChBC,OAAO,EAAE,KAAK;IACdC,IAAI,EAAER;EACR,CAAC,CAAC;EAEFN,SAAS,CAAC,MAAM;IACd,IAAIe,SAAS,GAAG,KAAK;IACrB,MAAMC,SAAS,GAAG,MAAAA,CAAA,KAAY;MAC5BL,QAAQ,CAAC;QAAEM,IAAI,EAAE;MAAa,CAAC,CAAC;MAChC,IAAI;QACF,MAAMC,MAAM,GAAG,MAAMhB,KAAK,CAACM,GAAG,CAAC;QAC/B,IAAI,CAACO,SAAS,EAAE;UACdJ,QAAQ,CAAC;YAAEM,IAAI,EAAE,eAAe;YAAEE,OAAO,EAAED,MAAM,CAACJ;UAAK,CAAC,CAAC;QAC3D;MACF,CAAC,CAAC,OAAOM,KAAK,EAAE;QACd,IAAI,CAACL,SAAS,EAAE;UACdJ,QAAQ,CAAC;YAAEM,IAAI,EAAE;UAAgB,CAAC,CAAC;QACrC;MACF;IACF,CAAC;IACDD,SAAS,CAAC,CAAC;IACX,OAAO,MAAM;MACXD,SAAS,GAAG,IAAI;IAClB,CAAC;EACH,CAAC,EAAE,CAACP,GAAG,CAAC,CAAC;EAET,OAAO,CAACE,KAAK,EAAED,MAAM,CAAC;AACxB;AAACF,EAAA,CA/BQH,UAAU;AAiCnB,eAAeA,UAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}