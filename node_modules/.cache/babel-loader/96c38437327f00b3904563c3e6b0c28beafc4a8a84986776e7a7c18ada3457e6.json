{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/jose/Documents/Coding/fetch-n-render-project/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/jose/Documents/Coding/fetch-n-render-project/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/jose/Documents/Coding/fetch-n-render-project/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect,useReducer}from'react';import axios from'axios';import dataFetchReducer from'./dataFetchReducer';function useDataApi(initialUrl,initialData){var _useState=useState(initialUrl),_useState2=_slicedToArray(_useState,2),url=_useState2[0],setUrl=_useState2[1];var _useReducer=useReducer(dataFetchReducer,{isLoading:false,isError:false,data:initialData}),_useReducer2=_slicedToArray(_useReducer,2),state=_useReducer2[0],dispatch=_useReducer2[1];useEffect(function(){var didCancel=false;var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var result;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:dispatch({type:\"FETCH_INIT\"});_context.prev=1;_context.next=4;return axios(url);case 4:result=_context.sent;if(!didCancel){dispatch({type:\"FETCH_SUCCESS\",payload:result.data});}_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](1);if(!didCancel){dispatch({type:\"FETCH_FAILURE\"});}case 11:case\"end\":return _context.stop();}},_callee,null,[[1,8]]);}));return function fetchData(){return _ref.apply(this,arguments);};}();fetchData();return function(){didCancel=true;};},[url]);return[state,setUrl];}export default useDataApi;","map":{"version":3,"names":["React","useState","useEffect","useReducer","axios","dataFetchReducer","useDataApi","initialUrl","initialData","_useState","_useState2","_slicedToArray","url","setUrl","_useReducer","isLoading","isError","data","_useReducer2","state","dispatch","didCancel","fetchData","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","result","wrap","_callee$","_context","prev","next","type","sent","payload","t0","stop","apply","arguments"],"sources":["C:/Users/jose/Documents/Coding/fetch-n-render-project/src/useDataApi.js"],"sourcesContent":["import React, { useState, useEffect, useReducer } from 'react';\r\nimport axios from 'axios';\r\nimport dataFetchReducer from './dataFetchReducer';\r\n\r\nfunction useDataApi(initialUrl, initialData) {\r\n  const [url, setUrl] = useState(initialUrl);\r\n\r\n  const [state, dispatch] = useReducer(dataFetchReducer, {\r\n    isLoading: false,\r\n    isError: false,\r\n    data: initialData,\r\n  });\r\n\r\n  useEffect(() => {\r\n    let didCancel = false;\r\n    const fetchData = async () => {\r\n      dispatch({ type: \"FETCH_INIT\" });\r\n      try {\r\n        const result = await axios(url);\r\n        if (!didCancel) {\r\n          dispatch({ type: \"FETCH_SUCCESS\", payload: result.data });\r\n        }\r\n      } catch (error) {\r\n        if (!didCancel) {\r\n          dispatch({ type: \"FETCH_FAILURE\" });\r\n        }\r\n      }\r\n    };\r\n    fetchData();\r\n    return () => {\r\n      didCancel = true;\r\n    };\r\n  }, [url]);\r\n\r\n  return [state, setUrl];\r\n}\r\n\r\nexport default useDataApi;\r\n"],"mappings":"ibAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,CAAEC,UAAU,KAAQ,OAAO,CAC9D,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,gBAAgB,KAAM,oBAAoB,CAEjD,QAAS,CAAAC,UAAUA,CAACC,UAAU,CAAEC,WAAW,CAAE,CAC3C,IAAAC,SAAA,CAAsBR,QAAQ,CAACM,UAAU,CAAC,CAAAG,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAnCG,GAAG,CAAAF,UAAA,IAAEG,MAAM,CAAAH,UAAA,IAElB,IAAAI,WAAA,CAA0BX,UAAU,CAACE,gBAAgB,CAAE,CACrDU,SAAS,CAAE,KAAK,CAChBC,OAAO,CAAE,KAAK,CACdC,IAAI,CAAET,WACR,CAAC,CAAC,CAAAU,YAAA,CAAAP,cAAA,CAAAG,WAAA,IAJKK,KAAK,CAAAD,YAAA,IAAEE,QAAQ,CAAAF,YAAA,IAMtBhB,SAAS,CAAC,UAAM,CACd,GAAI,CAAAmB,SAAS,CAAG,KAAK,CACrB,GAAM,CAAAC,SAAS,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAA,MAAAC,MAAA,QAAAH,mBAAA,GAAAI,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAChBb,QAAQ,CAAC,CAAEc,IAAI,CAAE,YAAa,CAAC,CAAC,CAACH,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA,SAEV,CAAA7B,KAAK,CAACQ,GAAG,CAAC,QAAzBgB,MAAM,CAAAG,QAAA,CAAAI,IAAA,CACZ,GAAI,CAACd,SAAS,CAAE,CACdD,QAAQ,CAAC,CAAEc,IAAI,CAAE,eAAe,CAAEE,OAAO,CAAER,MAAM,CAACX,IAAK,CAAC,CAAC,CAC3D,CAACc,QAAA,CAAAE,IAAA,iBAAAF,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAM,EAAA,CAAAN,QAAA,aAED,GAAI,CAACV,SAAS,CAAE,CACdD,QAAQ,CAAC,CAAEc,IAAI,CAAE,eAAgB,CAAC,CAAC,CACrC,CAAC,yBAAAH,QAAA,CAAAO,IAAA,MAAAX,OAAA,gBAEJ,kBAZK,CAAAL,SAASA,CAAA,SAAAC,IAAA,CAAAgB,KAAA,MAAAC,SAAA,OAYd,CACDlB,SAAS,CAAC,CAAC,CACX,MAAO,WAAM,CACXD,SAAS,CAAG,IAAI,CAClB,CAAC,CACH,CAAC,CAAE,CAACT,GAAG,CAAC,CAAC,CAET,MAAO,CAACO,KAAK,CAAEN,MAAM,CAAC,CACxB,CAEA,cAAe,CAAAP,UAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}